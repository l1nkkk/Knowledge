
> 难度：中等
- 值与索引
- 思路：如果数组nums每个值都正好可以对应索引（从1开始的），那么没有出现最小正正数，就是len(nums)+1。这种情况是没**有出现的最小的正整数** 所能取到的最大值。
  - **因此，没有出现的最小正整数在[1，len(nums)+1] 之间**
    - 故，可以通过在原数组中做标记，标记 取元素所能到达的最大值+1，即`500001`
> 题目
<div align="center" style="zoom:80%"><img src="./pic/41-1.png"></div>

> 代码

```cpp
class Solution {
public:
    static constexpr int flag = 500001;

    int firstMissingPositive(vector<int>& nums) {
        int last = nums.size();
        for(int i = 0; i < nums.size(); ++i){
            while(nums[i] > 0 && nums[i] <= last){// 可以作为索引
                int t = nums[i]-1;
                if(nums[t] == flag) break;
                else{
                    nums[i] = flag;
                    swap(nums, i, t);
                }
            }
        }
        for(int i = 0; i < nums.size(); ++i){
            if(nums[i] !=  flag){
                return i+1;
            }
        }
        return nums.size()+1;
    }
    void swap(vector<int> &nums, int i, int j){
        int t = nums[i];
        nums[i] = nums[j];
        nums[j] = t;
    }

};
```