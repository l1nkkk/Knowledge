# 并发与并行
## 为什么要并发？
- 关注点分离SOC和性能。（应该是使用并发的唯一原因）
## 并发与并行区别
- 并发：多个任务一起进行，上下文的切换，每个时刻只有一个任务。
- 并行：同时刻可完成多个任务（多核）
- 这两个词有时候就是意会意会，混来混去不过多区分

## 并发的途径及优缺点
- 多进程并发
  - 优点：
    - 简单，隔离好，容易编写出安全的代码
    - 稳定容易，一个崩不会影响另一个
  - 缺点：
    - 隔离太好，交互复杂
    - 上下文切换耗费时间多
- 多线程并发
  - 优点：
    - 轻量级，1MB的线程空间
    - 共享数据，方便
  - 缺点：
    - 条件竞争，特别是数据竞争，导致编写安全代码困难
    - 追求稳较困难定，一个崩，可能别的崩
- 多协程并发
  - 优点：
    - 更轻量级
  - 缺点：
    - 有些语言不原生支持
    - 不太可控，一般都是调库

## 使用与否建议
- 除非可以很好的分离业务或者是提高性能，否则别用并发。
  - 线程资源有限，一个如果1MB，那么4GB内存也就4096个线程
  - 线程越多，上下文切换越多
- 永远记住并发的唯一目的
  - 关注点分离SOC和性能